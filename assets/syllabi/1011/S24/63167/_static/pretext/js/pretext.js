function scrollTocToActive(){pagefilename=window.location.href,pagefilename=pagefilename.match(/[^\/]*$/)[0],possibletocentries=document.querySelectorAll('#ptx-toc a[href="'+pagefilename+'"]'),0==possibletocentries.length&&(pagefilename=pagefilename.match(/^[^\#]*/)[0],possibletocentries=document.querySelectorAll('#ptx-toc a[href="'+pagefilename+'"]')),0!=possibletocentries.length&&(possibletocentries[0].scrollIntoView({block:"center"}),possibletocentries[0].classList.add("active"))}function toggletoc(){thesidebar=document.getElementById("ptx-sidebar"),thesidebar.classList.contains("hidden")||thesidebar.classList.contains("visible")?(thesidebar.classList.toggle("hidden"),thesidebar.classList.toggle("visible")):null===thesidebar.offsetParent?thesidebar.classList.toggle("visible"):thesidebar.classList.toggle("hidden"),scrollTocToActive()}function toggleTOCItem(e){let t=e.closest(".toc-item");t.classList.toggle("expanded");let s=t.classList.contains("expanded"),l=getTOCItemType(t);e.title=s?"Close"+(""!==l?" "+l:""):"Expand"+(""!==l?" "+l:"");for(const e of t.querySelectorAll(":scope > ul.toc-item-list"))for(const t of e.querySelectorAll(":scope > li.toc-item"))s?(t.classList.add("visible"),t.classList.remove("hidden")):(t.classList.remove("visible"),t.classList.add("hidden"))}function getTOCItemType(e){for(let t of e.classList)if("toc-item"!==t&&t.length>3&&"toc-"===t.slice(0,4))return t.slice(4);return""}function getTOCItemDepth(e){let t=0,s=e.closest(".toc-item-list");for(;null!==s;)t++,s=s.parentElement.closest(".toc-item-list");return t}window.addEventListener("load",function(){thetocbutton=document.getElementsByClassName("toc-toggle")[0],thetocbutton.addEventListener("click",()=>toggletoc())}),window.addEventListener("load",function(){scrollTocToActive()}),window.addEventListener("DOMContentLoaded",function(){if(null===document.querySelector(".ptx-toc.focused"))return;let e=1e3;for(let t of document.querySelector(".ptx-toc").classList)t.length>5&&"depth"===t.slice(0,5)&&(e=Number(t.slice(5)));let t=1,s=document.querySelector(".ptx-toc").dataset;void 0!==s.preexpandedLevels&&(t=Number(s.preexpandedLevels));let l=document.querySelectorAll(".ptx-toc ul.structural > .toc-item");for(const s of l){let l=null!==s.querySelector("ul.structural"),o=getTOCItemDepth(s);if(l&&o<e){let e=document.createElement("button");e.classList.add("toc-expander"),e.classList.add("toc-chevron-surround"),e.title="toc-expander",e.innerHTML='<span class="icon material-symbols-outlined" aria-hidden="true">chevron_left</span>',s.querySelector(".toc-title-box").append(e),e.addEventListener("click",()=>{toggleTOCItem(e)});let l=s.classList.contains("contains-active")||s.classList.contains("active")||o<t,i=getTOCItemType(s);l?toggleTOCItem(e):e.title="Expand"+(""!==i?" "+i:"")}}});